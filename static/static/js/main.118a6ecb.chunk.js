(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,t,n){},106:function(e,t,n){"use strict";n.r(t);var a,r,c=n(19),i=n(44),l=n(0),s=n.n(l),o=n(25),u=n.n(o),m=n(21),f=n(28),d=n(47),p=n(50),h=n(48),g=n(29),b=function(){return s.a.createElement("svg",{width:"20px",x:"0px",y:"0px",viewBox:"0 0 20 20",style:{enableBackground:"new 0 0 20 20"}},s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("g",null,s.a.createElement("path",{fill:"#1ED760",className:"st0",d:"M10,0C4.5,0,0,4.5,0,10c0,5.5,4.5,10,10,10c5.5,0,10-4.5,10-10C20,4.5,15.5,0,10,0z M14.6,14.4 c-0.2,0.3-0.6,0.4-0.9,0.2c-2.3-1.4-5.3-1.8-8.8-1c-0.3,0.1-0.7-0.1-0.7-0.5c-0.1-0.3,0.1-0.7,0.5-0.7c3.8-0.9,7.1-0.5,9.7,1.1 C14.7,13.7,14.8,14.1,14.6,14.4z M15.8,11.7c-0.2,0.4-0.7,0.5-1.1,0.3C12,10.3,8,9.8,4.8,10.8c-0.4,0.1-0.8-0.1-1-0.5 c-0.1-0.4,0.1-0.8,0.5-1c3.6-1.1,8.1-0.6,11.2,1.3C15.9,10.9,16,11.3,15.8,11.7z M15.9,8.9C12.7,7,7.4,6.8,4.3,7.7 c-0.5,0.1-1-0.1-1.2-0.6C3,6.6,3.3,6.1,3.8,5.9c3.5-1.1,9.4-0.9,13.1,1.3c0.4,0.3,0.6,0.8,0.3,1.3C16.9,9,16.4,9.1,15.9,8.9z"})))))},E=n(36),y=n(37),w=function(){return s.a.createElement(x,null,s.a.createElement("span",null),s.a.createElement("span",null),s.a.createElement("span",null))},v=Object(y.b)(a||(a=Object(E.a)(["\n    10% {\n    transform: scaleY(0.3);\n  }\n\n  30% {\n    transform: scaleY(1);\n  }\n\n  60% {\n    transform: scaleY(0.5);\n  }\n\n  80% {\n    transform: scaleY(0.75);\n  }\n\n  100% {\n    transform: scaleY(0.5);\n  }\n"]))),x=y.a.div(r||(r=Object(E.a)(["\n    position: relative;\n    display: flex;\n    justify-content: space-between;\n    width: 13px;\n    height: 13px;\n  \n    span {\n        width: 3px;\n        height: 100%;\n        background-color: #1ED760;\n        border-radius: 3px;\n        animation: "," 2.2s ease infinite alternate;\n        content: '';\n        transform-origin: bottom;\n\n        &:nth-of-type(2) {\n            animation-delay: -2.2s;\n        }\n    \n        &:nth-of-type(3) {\n            animation-delay: -3.7s;\n        }\n        \n    }\n"])),v),k=(n(102),function(e){var t=Object(l.useState)(!0),n=Object(m.a)(t,2),a=n[0],r=n[1],c=Object(l.useState)({}),o=Object(m.a)(c,2),u=o[0],E=o[1];return Object(l.useEffect)(function(){var t=setInterval(function(){Object(g.a)(e.client_id,e.client_secret,e.refresh_token).then(function(e){E(e),r(!1)})},1e3);return function(){return clearInterval(t)}},[e.client_id,e.client_secret,e.refresh_token]),s.a.createElement(i.a,{width:"xs"},a?s.a.createElement(i.d,{align:"center",mb:8},s.a.createElement(f.a,{size:"md",speed:"0.6s",thickness:"3",color:"gray.500"})):s.a.createElement(i.d,{width:"full",mb:u.isPlaying?2:4,spacing:3},s.a.createElement(i.d,{spacing:2,direction:"row",align:"center"},s.a.createElement(b,null),s.a.createElement(i.e,{fontWeight:"semibold"},u.isPlaying?"Now Playing":"Currently Offline"),u.isPlaying&&s.a.createElement(w,null)),u.isPlaying&&s.a.createElement(i.a,{p:4,borderRadius:"lg",borderWidth:1},s.a.createElement(i.d,{direction:"column",spacing:4,align:"center"},s.a.createElement(i.a,{position:"relative"},s.a.createElement(d.a,{src:u.albumImageUrl,alt:"".concat(u.title," by ").concat(u.artist),width:64,height:64,borderRadius:"50%",className:"rotating-disk"}),s.a.createElement("div",{className:"center-circle"}),s.a.createElement("div",{className:"smaller-white-circle"})),s.a.createElement(i.d,{spacing:1,overflow:"hidden",width:"full"},s.a.createElement(p.a,{label:u.title,alignSelf:"self-start",hasArrow:!0},s.a.createElement(i.c,{href:u.songUrl,alignSelf:"self-start",isExternal:!0},s.a.createElement(i.e,{fontWeight:"semibold",fontSize:"x-large",width:"full",isTruncated:!0,color:"alph"},u.title))),s.a.createElement(p.a,{label:u.artist,alignSelf:"self-start",hasArrow:!0},s.a.createElement(i.e,{color:"gray.500",isTruncated:!0,alignSelf:"self-start"},u.artist)),s.a.createElement(h.a,{size:"xs",colorScheme:"green",borderRadius:"md",value:u.progress_ms/u.duration_ms*100}))))))}),j=function(e){var t=Object(l.useState)(!0),n=Object(m.a)(t,2),a=n[0],r=n[1],c=Object(l.useState)([]),o=Object(m.a)(c,2),u=o[0],h=o[1];return Object(l.useEffect)(function(){var t=setInterval(function(){Object(g.b)(e.client_id,e.client_secret,e.refresh_token).then(function(e){h(e),r(!1)})},2e3);return function(){return clearInterval(t)}},[e.client_id,e.client_secret,e.refresh_token]),s.a.createElement(i.a,{width:"xs"},a?s.a.createElement(i.d,{align:"center",mb:8},s.a.createElement(f.a,{size:"md",speed:"0.6s",thickness:"3",color:"gray.500"})):s.a.createElement(i.d,{width:"full",spacing:3},s.a.createElement(i.d,{spacing:2,direction:"row",align:"center"},s.a.createElement(b,null),s.a.createElement(i.e,{fontWeight:"semibold"},"Recently Played")),u.map(function(e,t){return s.a.createElement(i.a,{key:t,p:2,borderRadius:"lg",borderWidth:1},s.a.createElement(i.d,{direction:"row",spacing:4,align:"center"},s.a.createElement(d.a,{alt:"".concat(e.title," album art"),src:e.albumImageUrl,width:12,height:12,borderRadius:"sm"}),s.a.createElement(i.d,{spacing:0,overflow:"hidden"},s.a.createElement(p.a,{label:e.title,hasArrow:!0},s.a.createElement(i.c,{href:e.songUrl,alignSelf:"self-start",isExternal:!0},s.a.createElement(i.e,{fontWeight:"semibold",width:"full",isTruncated:!0,color:"alph"},e.title))),s.a.createElement(p.a,{label:e.artist,hasArrow:!0},s.a.createElement(i.e,{color:"gray.500",isTruncated:!0,alignSelf:"self-start"},e.artist)),s.a.createElement(i.e,null))))})))},O=n(24),_=n(49),S=n(40);function I(e){var t=Object(O.b)(),n=t.colorMode,a=t.toggleColorMode,r=t.setColorMode;return Object(l.useEffect)(function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=function(){r(e.matches?"dark":"light")};return t(),e.addEventListener("change",t),function(){e.removeEventListener("change",t)}},[r]),s.a.createElement(_.a,Object.assign({size:"md",fontSize:"lg","aria-label":"Switch to ".concat("light"===n?"dark":"light"," mode"),variant:"ghost",color:"current",marginLeft:"2",onClick:a,icon:"light"===n?s.a.createElement(S.a,null):s.a.createElement(S.b,null)},e))}n(105);var C=Object(c.b)({fonts:{heading:"Inter, sans-serif",body:"Inter, sans-serif"}});u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(c.a,{theme:C},s.a.createElement(i.a,{textAlign:"right",p:3},s.a.createElement(I,null)),s.a.createElement(i.b,{direction:"column",justifyContent:"center",alignItems:"center",minHeight:"90vh",mb:6},s.a.createElement(i.a,{textAlign:"start",mb:6,mx:12},s.a.createElement("h1",null,"Explore the tracks I'm listening to right now and check out my recent Spotify activity."),s.a.createElement(i.e,{mt:4},"Discover more about me and my work on my personal page: ",s.a.createElement(i.c,{href:"https://baoopn.com",color:"teal.500",isExternal:!0},"baoopn.com"),".")),s.a.createElement(i.b,{direction:{base:"column",md:"row"},justifyContent:"center",alignItems:"top",gap:6,overflowY:{base:"auto",md:"hidden"},overflowX:"auto"},s.a.createElement(k,null),s.a.createElement(j,null))))),document.getElementById("root"))},29:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p});var a=n(10),r=n.n(a),c=n(16),i=n(51),l=n.n(i),s=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/tokens");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Failed to fetch tokens");case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o=function(){var t=Object(c.a)(r.a.mark(function t(n,a,c){var i,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.from("".concat(n,":").concat(a)).toString("base64"),t.next=3,fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{Authorization:"Basic ".concat(i),"Content-Type":"application/x-www-form-urlencoded"},body:l.a.stringify({grant_type:"refresh_token",refresh_token:c})});case 3:return s=t.sent,t.abrupt("return",s.json());case 5:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}(),u=function(){var e=Object(c.a)(r.a.mark(function e(){var t,n,a,c,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return t=e.sent,n=t.clientId,a=t.clientSecret,c=t.refreshToken,e.next=8,o(n,a,c);case 8:return i=e.sent,l=i.access_token,e.abrupt("return",fetch("https://api.spotify.com/v1/me/player/currently-playing",{headers:{Authorization:"Bearer ".concat(l)}}));case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark(function e(){var t,n,a,c,i,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:return t=e.sent,n=t.clientId,a=t.clientSecret,c=t.refreshToken,e.next=8,o(n,a,c);case 8:return i=e.sent,l=i.access_token,e.abrupt("return",fetch("https://api.spotify.com/v1/me/player/recently-played?limit=5",{headers:{Authorization:"Bearer ".concat(l)}}));case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function f(){return d.apply(this,arguments)}function d(){return(d=Object(c.a)(r.a.mark(function e(){var t,n,a,c,i,l,s,o,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(!(204===(t=e.sent).status||t.status>400)){e.next=5;break}return e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,t.json();case 8:return n=e.sent,a=n.item.album.images[0].url,c=n.item.artists.map(function(e){return e.name}).join(", "),i=n.is_playing,l=n.item.external_urls.spotify,s=n.item.name,o=n.progress_ms,m=n.item.duration_ms,e.abrupt("return",{albumImageUrl:a,artist:c,isPlaying:i,songUrl:l,title:s,progress_ms:o,duration_ms:m});case 19:return e.prev=19,e.t0=e.catch(5),e.abrupt("return",!1);case 22:case"end":return e.stop()}},e,null,[[5,19]])}))).apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return(h=Object(c.a)(r.a.mark(function e(){var t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(!((t=e.sent).status>400)){e.next=5;break}return e.abrupt("return",!1);case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n.items.map(function(e){return{albumImageUrl:e.track.album.images[0].url,artist:e.track.artists.map(function(e){return e.name}).join(", "),playedAt:e.played_at,songUrl:e.track.external_urls.spotify,title:e.track.name}}));case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}}).call(this,n(91).Buffer)},86:function(e,t,n){e.exports=n(106)}},[[86,1,2]]]);
//# sourceMappingURL=main.118a6ecb.chunk.js.map